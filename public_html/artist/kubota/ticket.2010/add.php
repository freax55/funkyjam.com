<?phprequire_once('auth.php');class ticketAction extends AuthAction {	function execute() {		$cart = $this->cart;				if (!is_array($cart)) {			$cart = array();		}				if (!is_array($cart[$this->item_code])) {			$item_code = $this->item_code;			$category_code = $this->category_code;			$name = $this->name;			$p_date = $this->p_date;			$area = $this->area;			$place_name = $this->place_name;			$open_time = $this->open_time;			$start_time = $this->start_time;			$quantity = $this->quantity;			$price = $this->price;			$cart[$item_code] = array();			$cart[$item_code]['item_code'] = $item_code;			$cart[$item_code]['category_code'] = $category_code;			$cart[$item_code]['name'] = $name;			$cart[$item_code]['p_date'] = $p_date;			$cart[$item_code]['area'] = $area;			$cart[$item_code]['place_name'] = $place_name;			$cart[$item_code]['open_time'] = $open_time;			$cart[$item_code]['start_time'] = $start_time;			$cart[$item_code]['quantity'] = $quantity;			$cart[$item_code]['price'] = $price;		}		$this->cart = $cart;		unset($this->item_code);		$this->__controller->redirectToAction('cart');				return false;	}	function validate() {		parent::validate();		$this->errors = array();		if($this->item_code) {		} else {			$this->errors['item_code'] = 'item_codeが必要です。';		}		if(count($this->errors)) {			return 'list';		}		return true;	}}?>