<?phprequire_once('auth.php');class ticketAction extends AuthAction {	function validate() {		parent::validate();		$cart = $this->cart;		$this->errors = array();		if (!is_array($cart) || @count($cart) <= 0) {			$this->errors['cart'] = 'カートに商品がございません。';		}		if (!$this->payment) {			$this->errors['payment'] = '選択してください。';		}		if (!$this->member_no) {			$this->errors['member_no'] = '入力してください。';		} elseif ($this->member_no && !$this->isNumber($this->member_no) || mb_strlen($this->member_no) != 8) {			$this->errors['member_no'] = '半角数字8桁で入力してください。';		}		if (!$this->last_name || !$this->first_name) {			$this->errors['name'] = '入力してください。';		}		if (!$this->last_kana || !$this->first_kana) {			$this->errors['kana'] = '入力してください。';		}		if (!$this->zip1 || !$this->zip2) {			$this->errors['zip'] = '入力してください。';		} elseif (!$this->isNumber($this->zip1) || !$this->isNumber($this->zip2)) {			$this->errors['zip'] = '半角数字で入力してください。';		}		if (!$this->address1) {			$this->errors['address'] = '入力してください。';		}		if (!$this->tel) {			$this->errors['tel'] = '入力してください。';		} elseif (!$this->isTel($this->tel)) {			$this->errors['tel'] = '形式が正しくありません。';		}		if (!$this->mail) {			$this->errors['mail'] = '入力してください。';		} elseif (!$this->isMail($this->mail)) {			$this->errors['mail'] = '形式が正しくありません。';		} elseif ($this->mail != $this->confirm) {			$this->errors['mail'] = 'メールアドレスに誤りがあります。';		}		if (count($this->errors)) {			return 'cart';		}		return true;	}}?>